{"version":3,"file":"js/accounts.2f6d07fd.js","mappings":"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","sources":["webpack://gestor-gastos/./src/accounts/context/views/AccountsView.vue?1969","webpack://gestor-gastos/src/accounts/context/views/AccountsView.vue","webpack://gestor-gastos/./src/accounts/context/views/AccountsView.vue?ecf8","webpack://gestor-gastos/./src/accounts/context/views/AccountsView.vue","webpack://gestor-gastos/./src/shared/components/TitleGeneral.vue?4e9c","webpack://gestor-gastos/src/shared/components/TitleGeneral.vue","webpack://gestor-gastos/./src/shared/components/TitleGeneral.vue?e83a","webpack://gestor-gastos/./src/shared/components/TitleGeneral.vue","webpack://gestor-gastos/./src/home/models/expense.js","webpack://gestor-gastos/./src/home/usecases/expensesUc.js","webpack://gestor-gastos/./src/shared/notification.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('title-general',{attrs:{\"title\":\"Presupuesto\"}}),_c('div',{staticClass:\"l-content l-content--period\"},[_c('select-period'),_c('expenses-per-account',{attrs:{\"account\":_vm.account}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <title-general title=\"Presupuesto\" />\r\n    <div class=\"l-content l-content--period\">\r\n      <select-period />\r\n      <expenses-per-account :account=\"account\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TitleGeneral from '@/shared/components/TitleGeneral.vue'\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport SelectPeriod from '@/home/context/components/selectPeriod.vue'\r\nimport ExpensesPerAccount from '@/home/context/components/ExpensesPerAccount.vue'\r\n\r\nexport default {\r\n  name: 'AccountsView',\r\n\r\n  components: {\r\n    TitleGeneral,\r\n    SelectPeriod,\r\n    ExpensesPerAccount\r\n  },\r\n\r\n  computed: {\r\n    totalDebit () {\r\n      let total = 0\r\n      this.accounts.forEach(account => { total += account.getTotal(this.currentPeriod).total })\r\n\r\n      return total\r\n    },\r\n\r\n    totalBalance () {\r\n      let total = 0\r\n      this.accounts.forEach(account => { total += account.getTotal(this.currentPeriod).balance })\r\n\r\n      return total\r\n    },\r\n\r\n    account () {\r\n      return this.accounts.length > 0 ? this.accounts[0] : null\r\n    },\r\n\r\n    ...mapState('accountsStore', ['accounts']),\r\n    ...mapState('expensesStore', ['currentPeriod'])\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations('accountsStore', ['setAccountSelected'])\r\n  },\r\n\r\n  created () {\r\n    this.setAccountSelected(this.account)\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountsView.vue?vue&type=template&id=0e90d266&\"\nimport script from \"./AccountsView.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountsView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"l-title\",class:_vm.addClass},[_c('h2',{staticClass:\"main-title\"},[_vm._v(_vm._s(_vm.title))]),(_vm.backRoute)?_c('button',{staticClass:\"btn back-arrow\",on:{\"click\":function($event){return _vm.goToRoute(_vm.backRoute)}}},[_c('b-icon',{attrs:{\"icon\":\"arrow-left\"}})],1):_vm._e(),(_vm.addButtonRoute)?_c('button',{staticClass:\"btn btn-block button-rounded button-big button-outline-color-general\",on:{\"click\":function($event){return _vm.goToRoute(_vm.addButtonRoute)}}},[_vm._v(\"+\")]):_vm._e(),(_vm.addButtonFunction)?_c('button',{staticClass:\"btn btn-block button-rounded button-big button-outline-color-general\",on:{\"click\":function($event){return _vm.addButtonFunction()}}},[_vm._v(\"+\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"l-title\" :class=\"addClass\">\r\n      <h2 class=\"main-title\">{{ title }}</h2>\r\n\r\n      <button v-if=\"backRoute\" @click=\"goToRoute(backRoute)\" class=\"btn back-arrow\">\r\n        <b-icon icon=\"arrow-left\"></b-icon>\r\n      </button>\r\n\r\n      <button\r\n        v-if=\"addButtonRoute\"\r\n        @click=\"goToRoute(addButtonRoute)\"\r\n        class=\"btn btn-block button-rounded button-big button-outline-color-general\"\r\n      >+</button>\r\n\r\n      <button\r\n        v-if=\"addButtonFunction\"\r\n        @click=\"addButtonFunction()\"\r\n        class=\"btn btn-block button-rounded button-big button-outline-color-general\"\r\n      >+</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TitleGeneral',\r\n\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    backRoute: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    addButtonRoute: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    addButtonFunction: {\r\n      type: Function\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    addClass () {\r\n      return this.backRoute ? 'l-title-back' : ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    goToRoute (route) {\r\n      this.$router.push(route)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TitleGeneral.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TitleGeneral.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TitleGeneral.vue?vue&type=template&id=e01daf90&\"\nimport script from \"./TitleGeneral.vue?vue&type=script&lang=js&\"\nexport * from \"./TitleGeneral.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default class Expense {\r\n  id = ''\r\n  amount = 0\r\n  description = ''\r\n  category = {}\r\n  date = ''\r\n  paid = false\r\n  fixed = false\r\n  repeat = false\r\n  repeatTimes = false\r\n  payments = []\r\n  type = 'credit'\r\n  editList = []\r\n  product = null\r\n\r\n  constructor (amount, description, category, date, fixed, paid, repeat, repeatTimes, type, product) {\r\n    this.amount = amount.replace('.', '')\r\n    this.description = description\r\n    this.category = category\r\n    this.date = date\r\n    this.paid = paid\r\n    this.fixed = fixed\r\n    this.repeat = repeat\r\n    this.repeatTimes = repeatTimes\r\n    this.type = type\r\n    this.product = product\r\n  }\r\n\r\n  static fromJSONResponse (json, id) {\r\n    const expense = new Expense(json.amount, json.description, json.category, json.date, json.fixed, json.paid, json.repeat, json.repeatTimes, json.type, json.product)\r\n    if (id) expense.setId(id)\r\n\r\n    return expense\r\n  }\r\n\r\n  getId () {\r\n    return this.id\r\n  }\r\n\r\n  setId (id) {\r\n    this.id = id\r\n\r\n    return this\r\n  }\r\n\r\n  getAmount () {\r\n    return this.amount\r\n  }\r\n\r\n  getDescription () {\r\n    return this.description\r\n  }\r\n\r\n  getCategory () {\r\n    return this.category\r\n  }\r\n\r\n  getDate () {\r\n    return this.date\r\n  }\r\n\r\n  isCredit () {\r\n    return this.type === 'credit'\r\n  }\r\n\r\n  isPaid () {\r\n    return this.paid\r\n  }\r\n\r\n  setpaid (paid) {\r\n    this.paid = paid\r\n\r\n    return this\r\n  }\r\n\r\n  isFixed () {\r\n    return this.fixed\r\n  }\r\n\r\n  isRepeat () {\r\n    return this.repeat\r\n  }\r\n\r\n  getRepeatTimes () {\r\n    return this.repeatTimes\r\n  }\r\n\r\n  setUser (email) {\r\n    this.user = email\r\n\r\n    return this\r\n  }\r\n\r\n  getPayments () {\r\n    return this.payments\r\n  }\r\n\r\n  setPayments (value) {\r\n    this.payments = value\r\n\r\n    return this\r\n  }\r\n\r\n  getObjectData (withId) {\r\n    const expenseObject = {\r\n      amount: this.amount.toString().replace('.', ''),\r\n      description: this.description,\r\n      category: this.category.getObjectData(true),\r\n      date: this.date,\r\n      paid: this.paid,\r\n      fixed: this.fixed,\r\n      repeat: this.repeat,\r\n      user: this.user,\r\n      type: this.type,\r\n      product: null\r\n    }\r\n\r\n    if (this.product) {\r\n      expenseObject.product = this.product.getObjectData(true)\r\n    }\r\n\r\n    if (this.repeat) {\r\n      expenseObject.repeatTimes = this.repeatTimes\r\n    }\r\n    if (this.fixed || this.repeat) {\r\n      expenseObject.payments = this.payments\r\n      expenseObject.editList = this.editList\r\n    }\r\n    if (withId) expenseObject.id = this.id\r\n\r\n    return expenseObject\r\n  }\r\n}\r\n","import Expense from '../models/expense'\r\nimport store from '@/store'\r\nimport { utils } from '@/shared/utils'\r\nimport AccountRepository from '@/accounts/models/accountRepository'\r\nimport SettingsUc from '@/shared/usecases/settings'\r\nimport moment from 'moment'\r\nimport ProductsUc from '@/products/usecases/productsUc'\r\n\r\nexport default class ExpensesUc {\r\n  #accountRepository\r\n  #settingsUc\r\n  #user\r\n  #productsUc\r\n\r\n  constructor () {\r\n    let user = JSON.parse(localStorage.getItem('currentUser'))\r\n    user = user.email\r\n\r\n    this.#accountRepository = new AccountRepository(user)\r\n    this.#settingsUc = new SettingsUc(user)\r\n    this.#productsUc = new ProductsUc()\r\n    this.#user = user\r\n  }\r\n\r\n  async addExpense (amountStr, description, category, date, fixedExpense, paid, repeat, times, type, product) {\r\n    const amount = amountStr.replaceAll('.', '')\r\n    const account = store.state.accountsStore.accountSelected\r\n    const accountExpenses = account.expenses\r\n    if (paid) paid = utils.getCurrentDate()\r\n\r\n    const expense = new Expense(amount, description, category, date, fixedExpense, paid, repeat, times, type, product)\r\n    expense.setUser(this.#user)\r\n\r\n    if (repeat) expense.setPayments(this.calculatePayments(amount, paid, date, times)).setpaid(false)\r\n    if (paid && fixedExpense) {\r\n      expense.setpaid(false)\r\n        .setPayments([{ number: 1, amount, date, paid: true }])\r\n    }\r\n    expense.setId(Date.now())\r\n\r\n    accountExpenses.unshift(expense.getObjectData(true))\r\n    account.setExpenses(accountExpenses)\r\n\r\n    try {\r\n      await this.#accountRepository.updateAccount(account.getObjectData(), account.getId())\r\n      this.#accountRepository.updateAccountToLocal(account.getObjectData(), account.getId())\r\n\r\n      this.#settingsUc.updateVersion()\r\n\r\n      return 'Agregado correctamente'\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  async paidExpense (editedExpense, indexPayment, paid, products) {\r\n    if (paid) paid = utils.getCurrentDate()\r\n    const account = store.state.accountsStore.accountSelected\r\n    const period = store.state.expensesStore.currentPeriod\r\n    const expenses = account.expenses\r\n\r\n    expenses.forEach((expense, index) => {\r\n      if (expense.id === editedExpense.id) {\r\n        if (editedExpense.fixed) {\r\n          if (paid) expenses[index].payments.push({ date: period, paid: true, amount: expense.amount })\r\n          else expenses[index].payments.splice(indexPayment, 1)\r\n        } else if (editedExpense.repeat) expenses[index].payments[indexPayment].paid = paid\r\n\r\n        else expenses[index].paid = paid\r\n      }\r\n    })\r\n\r\n    if (editedExpense.product) {\r\n      const indexProduct = products.findIndex(product => product.id === editedExpense.product.id)\r\n      if (indexProduct !== -1) {\r\n        const productAdd = products[indexProduct]\r\n        const productType = editedExpense.type === 'credit' ? 'debit' : 'credit'\r\n\r\n        if (paid) {\r\n          this.#productsUc.addExpense(\r\n            editedExpense.amount,\r\n            editedExpense.description,\r\n            editedExpense.category,\r\n            period,\r\n            productType,\r\n            productAdd,\r\n            editedExpense.id\r\n          )\r\n        } else {\r\n          const index2 = productAdd.expenses.findIndex(product => product.idAccount === editedExpense.id)\r\n          if (index2 !== -1) {\r\n            this.#productsUc.deleteExpense(productAdd.expenses[index2], productAdd)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    account.setExpenses(expenses)\r\n\r\n    try {\r\n      await this.#accountRepository.updateAccount(account.getObjectData(), account.getId())\r\n      this.#accountRepository.updateAccountToLocal(account.getObjectData(), account.getId())\r\n\r\n      this.#settingsUc.updateVersion()\r\n\r\n      return true\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  async editExpense (editedExpense, indexPayment, amountStr, description, category, date, fixedExpense, paid, repeat, times, allPayments, product) {\r\n    const amount = amountStr.replaceAll('.', '')\r\n    const account = store.state.accountsStore.accountSelected\r\n    const period = store.state.expensesStore.currentPeriod\r\n    const expenses = account.expenses\r\n\r\n    expenses.forEach((expense, index) => {\r\n      if (expense.id === editedExpense.id) {\r\n        editedExpense.description = description\r\n        editedExpense.category = category.getObjectData ? category.getObjectData(true) : category\r\n        editedExpense.date = date\r\n        editedExpense.product = product && product.getObjectData ? product.getObjectData(true) : null\r\n\r\n        if (fixedExpense || repeat) {\r\n          let editList = editedExpense.editList\r\n\r\n          let editDate = utils.getFirstDay(period)\r\n          if (allPayments) editDate = utils.getFirstDay(date)\r\n\r\n          const editElement = { date: editDate, amount }\r\n\r\n          if (allPayments) {\r\n            editList = []\r\n            editList.push(editElement)\r\n          } else {\r\n            const index = editList.findIndex(edit => edit.date === editDate)\r\n            if (index !== -1) editList[index] = editElement\r\n            else editList.push(editElement)\r\n          }\r\n\r\n          const newEditList = []\r\n          editList.forEach(editItem => {\r\n            if (moment(editItem.date).isSameOrBefore(editDate)) newEditList.push(editItem)\r\n          })\r\n\r\n          editedExpense.editList = newEditList\r\n        }\r\n\r\n        if (repeat && times !== editedExpense.times) {\r\n          const payments = editedExpense.payments\r\n\r\n          editedExpense.repeatTimes = times\r\n          const editedPayments = this.calculatePayments(amount, false, date, times)\r\n\r\n          editedPayments.forEach((payment, indexEdited) => {\r\n            const firstDay = utils.getFirstDay(payment.date)\r\n            const lastDay = utils.getLastDay(payment.date)\r\n\r\n            const index = payments.findIndex(pay => moment(pay.date).isBetween(firstDay, lastDay, undefined, '[]'))\r\n            if (index !== -1) editedPayments[indexEdited].paid = payments[index].paid\r\n          })\r\n\r\n          editedExpense.payments = editedPayments\r\n        }\r\n\r\n        if (!repeat && !fixedExpense) {\r\n          editedExpense.amount = amount\r\n        }\r\n\r\n        expenses[index] = editedExpense\r\n      }\r\n    })\r\n\r\n    account.setExpenses(expenses)\r\n\r\n    try {\r\n      await this.#accountRepository.updateAccount(account.getObjectData(), account.getId())\r\n      this.#accountRepository.updateAccountToLocal(account.getObjectData(), account.getId())\r\n\r\n      this.#settingsUc.updateVersion()\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  async deleteExpense (deleteExpense, all) {\r\n    const account = store.state.accountsStore.accountSelected\r\n    const period = store.state.expensesStore.currentPeriod\r\n    const expenses = account.expenses\r\n\r\n    const index = expenses.findIndex(expense => expense.id === deleteExpense.id)\r\n\r\n    if (all) {\r\n      expenses.splice(index, 1)\r\n    } else {\r\n      deleteExpense.paid = period\r\n      expenses[index] = deleteExpense\r\n    }\r\n\r\n    account.setExpenses(expenses)\r\n\r\n    try {\r\n      await this.#accountRepository.updateAccount(account.getObjectData(), account.getId())\r\n      this.#accountRepository.updateAccountToLocal(account.getObjectData(), account.getId())\r\n\r\n      this.#settingsUc.updateVersion()\r\n\r\n      return true\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  calculatePayments (amount, paid, initialDate, times) {\r\n    const payments = [{ number: 0, amount, date: initialDate, paid }]\r\n    let date = initialDate\r\n\r\n    for (let index = 0; index < times; index++) {\r\n      const newDate = utils.sumMonths(date, 1)\r\n      payments.push({\r\n        number: index + 1,\r\n        amount,\r\n        date: newDate,\r\n        paid: false\r\n      })\r\n\r\n      date = newDate\r\n    }\r\n\r\n    return payments\r\n  }\r\n}\r\n","import Vue from 'vue'\r\n\r\nexport default class Notification {\r\n  notify (message) {\r\n    return Vue.swal(message)\r\n  }\r\n\r\n  confirm (message, title = 'Confirmación!') {\r\n    return Vue.swal({\r\n      title: title,\r\n      text: message,\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Aceptar',\r\n      reverseButtons: true\r\n    })\r\n  }\r\n\r\n  selectOption (option1, option2, title = 'Seleccione una opción', color1 = '#d51212', color2 = '#4caf50') {\r\n    return Vue.swal({\r\n      title: title,\r\n      type: '',\r\n      showDenyButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonColor: color1,\r\n      confirmButtonText: option1,\r\n      denyButtonText: option2,\r\n      denyButtonColor: color2,\r\n      cancelButtonText: 'Cancelar'\r\n    })\r\n  }\r\n}\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","account","staticRenderFns","name","components","TitleGeneral","SelectPeriod","ExpensesPerAccount","computed","totalDebit","total","totalBalance","methods","created","component","class","addClass","_v","_s","title","on","$event","goToRoute","backRoute","_e","addButtonRoute","addButtonFunction","props","type","default","Expense","constructor","amount","description","category","date","fixed","paid","repeat","repeatTimes","product","replace","json","id","expense","setId","getId","getAmount","getDescription","getCategory","getDate","isCredit","isPaid","setpaid","isFixed","isRepeat","getRepeatTimes","setUser","email","user","getPayments","payments","setPayments","value","getObjectData","withId","expenseObject","toString","editList","ExpensesUc","JSON","parse","localStorage","getItem","AccountRepository","SettingsUc","ProductsUc","amountStr","fixedExpense","times","replaceAll","store","accountExpenses","expenses","utils","calculatePayments","number","Date","now","unshift","setExpenses","updateAccount","updateAccountToLocal","updateVersion","error","console","editedExpense","indexPayment","products","period","forEach","index","push","splice","indexProduct","findIndex","productAdd","productType","addExpense","index2","idAccount","deleteExpense","allPayments","editDate","editElement","edit","newEditList","editItem","moment","isSameOrBefore","editedPayments","payment","indexEdited","firstDay","lastDay","pay","isBetween","undefined","all","initialDate","newDate","Notification","notify","message","Vue","confirm","text","showCancelButton","confirmButtonText","reverseButtons","selectOption","option1","option2","color1","color2","showDenyButton","confirmButtonColor","denyButtonText","denyButtonColor","cancelButtonText"],"sourceRoot":""}