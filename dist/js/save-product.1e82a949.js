"use strict";(self["webpackChunkgestor_gastos"]=self["webpackChunkgestor_gastos"]||[]).push([[408],{2348:function(t,e,o){o.r(e),o.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("title-general",{attrs:{title:t.title,backRoute:"/products"}}),o("div",{staticClass:"l-content"},[o("div",{staticClass:"l-list"},[o("input-general",{attrs:{label:"Nombre",validate:t.validate},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),o("icon-modal",{model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}}),o("icon-detail",{attrs:{icon:t.icon,iconColor:t.iconColor,validate:t.validate}}),t.icon?o("color-modal",{attrs:{idModal:"color-modal"},model:{value:t.iconColor,callback:function(e){t.iconColor=e},expression:"iconColor"}}):t._e(),o("div",[o("button",{staticClass:"btn button-color-general btn-block",on:{click:function(e){return t.save()}}},[t._v("Guardar")])])],1)])],1)},a=[],s=o(1803),n=o(1160),c=o(4665),l=o(5099),r=o(4511),d=o(3727),u=o(1654),h=o(4998),p=o(761);const m=new s.Z;var v={name:"SaveProduct",components:{TitleGeneral:l.Z,InputGeneral:d.Z,IconModal:u.Z,ColorModal:h.Z,IconDetail:p.Z},data(){return{name:"",icon:"",iconColor:"",validate:!1,id:"",expenses:[],totalExpense:0,totalIncome:0}},watch:{icon(){this.iconColor||(this.iconColor="#000000")}},computed:{validData(){return""!==this.icon.trim()&&""!==this.name.trim()},title(){return this.id?"Editar cuenta":"Nueva cuenta"},...(0,c.rn)("productsStore",["productSelected"])},methods:{clear(t){!t&&this.id||(this.name=this.iconColor=this.icon=this.id="",this.expenses=[],this.setProductSelected(null)),this.validate=!1},async save(){if(this.validate=!0,this.validData){r.P.startLoading();const t=await m.saveProduct(this.name,this.icon,this.iconColor,this.id,this.expenses,this.totalExpense,this.totalIncome);await this.setProducts(await m.getProducts()),this.clear(),r.P.stopLoading(),await(new n.Z).notify(t),this.clear(!0),this.$router.push("/products")}},loadData(){null!==this.productSelected&&(this.name=this.productSelected.getName(),this.icon=this.productSelected?.getIcon(),this.iconColor=this.productSelected.getColor(),this.id=this.productSelected.getId(),this.expenses=this.productSelected.getExpenses(),this.totalExpense=this.productSelected.getTotalExpense(),this.totalIncome=this.productSelected.getTotalIncome())},...(0,c.OI)("productsStore",["setProducts","setProductSelected"])},created(){this.loadData()},beforeDestroy(){this.clear(!0)}},C=v,g=o(1001),b=(0,g.Z)(C,i,a,!1,null,null,null),f=b.exports}}]);
//# sourceMappingURL=save-product.1e82a949.js.map