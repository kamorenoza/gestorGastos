"use strict";(self["webpackChunkgestor_gastos"]=self["webpackChunkgestor_gastos"]||[]).push([[408],{92348:function(t,e,o){o.r(e),o.d(e,{default:function(){return Z}});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("title-general",{attrs:{title:t.title,backRoute:"/products"}}),o("div",{staticClass:"l-content"},[o("div",{staticClass:"l-list"},[o("input-general",{attrs:{label:"Nombre",validate:t.validate},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),o("icon-modal",{model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}}),o("icon-detail",{attrs:{icon:t.icon,iconColor:t.iconColor,validate:t.validate}}),t.icon?o("color-modal",{attrs:{idModal:"color-modal"},model:{value:t.iconColor,callback:function(e){t.iconColor=e},expression:"iconColor"}}):t._e(),o("div",[o("button",{staticClass:"btn button-color-general btn-block",on:{click:function(e){return t.save()}}},[t._v("Guardar")])])],1)])],1)},i=[],c=o(67906),a=o(16198),l=o(4367),s=(o(73210),o(68309),o(81803)),r=o(1160),d=o(34665),u=o(25099),h=o(14511),p=o(73727),v=o(21654),m=o(84998),f=o(50761),x=new s.Z,C={name:"SaveProduct",components:{TitleGeneral:u.Z,InputGeneral:p.Z,IconModal:v.Z,ColorModal:m.Z,IconDetail:f.Z},data:function(){return{name:"",icon:"",iconColor:"",validate:!1,id:"",expenses:[],totalExpense:0,totalIncome:0}},watch:{icon:function(){this.iconColor||(this.iconColor="#000000")}},computed:(0,l.Z)({validData:function(){return""!==this.icon.trim()&&""!==this.name.trim()},title:function(){return this.id?"Editar cuenta":"Nueva cuenta"}},(0,d.rn)("productsStore",["productSelected"])),methods:(0,l.Z)({clear:function(t){!t&&this.id||(this.name=this.iconColor=this.icon=this.id="",this.expenses=[],this.setProductSelected(null)),this.validate=!1},save:function(){var t=this;return(0,a.Z)((0,c.Z)().mark((function e(){var o;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validate=!0,!t.validData){e.next=18;break}return h.P.startLoading(),e.next=5,x.saveProduct(t.name,t.icon,t.iconColor,t.id,t.expenses,t.totalExpense,t.totalIncome);case 5:return o=e.sent,e.t0=t,e.next=9,x.getProducts();case 9:return e.t1=e.sent,e.next=12,e.t0.setProducts.call(e.t0,e.t1);case 12:return t.clear(),h.P.stopLoading(),e.next=16,(new r.Z).notify(o);case 16:t.clear(!0),t.$router.push("/products");case 18:case"end":return e.stop()}}),e)})))()},loadData:function(){var t;null!==this.productSelected&&(this.name=this.productSelected.getName(),this.icon=null===(t=this.productSelected)||void 0===t?void 0:t.getIcon(),this.iconColor=this.productSelected.getColor(),this.id=this.productSelected.getId(),this.expenses=this.productSelected.getExpenses(),this.totalExpense=this.productSelected.getTotalExpense(),this.totalIncome=this.productSelected.getTotalIncome())}},(0,d.OI)("productsStore",["setProducts","setProductSelected"])),created:function(){this.loadData()},beforeDestroy:function(){this.clear(!0)}},g=C,b=o(1001),S=(0,b.Z)(g,n,i,!1,null,null,null),Z=S.exports}}]);
//# sourceMappingURL=save-product-legacy.f12c110c.js.map