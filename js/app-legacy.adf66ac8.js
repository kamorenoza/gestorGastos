(function(){var e={46700:function(e,t,n){var r={"./af":72398,"./af.js":72398,"./ar":44207,"./ar-dz":33382,"./ar-dz.js":33382,"./ar-kw":96525,"./ar-kw.js":96525,"./ar-ly":17098,"./ar-ly.js":17098,"./ar-ma":56483,"./ar-ma.js":56483,"./ar-sa":73961,"./ar-sa.js":73961,"./ar-tn":27401,"./ar-tn.js":27401,"./ar.js":44207,"./az":70903,"./az.js":70903,"./be":41174,"./be.js":41174,"./bg":94615,"./bg.js":94615,"./bm":20225,"./bm.js":20225,"./bn":69751,"./bn-bd":30544,"./bn-bd.js":30544,"./bn.js":69751,"./bo":46894,"./bo.js":46894,"./br":38566,"./br.js":38566,"./bs":40959,"./bs.js":40959,"./ca":52683,"./ca.js":52683,"./cs":14231,"./cs.js":14231,"./cv":999,"./cv.js":999,"./cy":64302,"./cy.js":64302,"./da":63601,"./da.js":63601,"./de":95509,"./de-at":42479,"./de-at.js":42479,"./de-ch":72924,"./de-ch.js":72924,"./de.js":95509,"./dv":19838,"./dv.js":19838,"./el":55113,"./el.js":55113,"./en-au":27377,"./en-au.js":27377,"./en-ca":29626,"./en-ca.js":29626,"./en-gb":55912,"./en-gb.js":55912,"./en-ie":12931,"./en-ie.js":12931,"./en-il":52243,"./en-il.js":52243,"./en-in":9779,"./en-in.js":9779,"./en-nz":49813,"./en-nz.js":49813,"./en-sg":54318,"./en-sg.js":54318,"./eo":74957,"./eo.js":74957,"./es":99243,"./es-do":67409,"./es-do.js":67409,"./es-mx":75188,"./es-mx.js":75188,"./es-us":16927,"./es-us.js":16927,"./es.js":99243,"./et":87731,"./et.js":87731,"./eu":21072,"./eu.js":21072,"./fa":29462,"./fa.js":29462,"./fi":29838,"./fi.js":29838,"./fil":73626,"./fil.js":73626,"./fo":6421,"./fo.js":6421,"./fr":70974,"./fr-ca":77780,"./fr-ca.js":77780,"./fr-ch":59719,"./fr-ch.js":59719,"./fr.js":70974,"./fy":98373,"./fy.js":98373,"./ga":83861,"./ga.js":83861,"./gd":44896,"./gd.js":44896,"./gl":20739,"./gl.js":20739,"./gom-deva":86737,"./gom-deva.js":86737,"./gom-latn":31979,"./gom-latn.js":31979,"./gu":32001,"./gu.js":32001,"./he":99671,"./he.js":99671,"./hi":82038,"./hi.js":82038,"./hr":11228,"./hr.js":11228,"./hu":30087,"./hu.js":30087,"./hy-am":83569,"./hy-am.js":83569,"./id":91977,"./id.js":91977,"./is":86853,"./is.js":86853,"./it":82140,"./it-ch":25626,"./it-ch.js":25626,"./it.js":82140,"./ja":24123,"./ja.js":24123,"./jv":26457,"./jv.js":26457,"./ka":30638,"./ka.js":30638,"./kk":16823,"./kk.js":16823,"./km":9493,"./km.js":9493,"./kn":11288,"./kn.js":11288,"./ko":29663,"./ko.js":29663,"./ku":70805,"./ku.js":70805,"./ky":87550,"./ky.js":87550,"./lb":76272,"./lb.js":76272,"./lo":99135,"./lo.js":99135,"./lt":91452,"./lt.js":91452,"./lv":35782,"./lv.js":35782,"./me":32181,"./me.js":32181,"./mi":50258,"./mi.js":50258,"./mk":35715,"./mk.js":35715,"./ml":50538,"./ml.js":50538,"./mn":83086,"./mn.js":83086,"./mr":75663,"./mr.js":75663,"./ms":35100,"./ms-my":92663,"./ms-my.js":92663,"./ms.js":35100,"./mt":50880,"./mt.js":50880,"./my":19099,"./my.js":19099,"./nb":38709,"./nb.js":38709,"./ne":32201,"./ne.js":32201,"./nl":21016,"./nl-be":61681,"./nl-be.js":61681,"./nl.js":21016,"./nn":25330,"./nn.js":25330,"./oc-lnc":27132,"./oc-lnc.js":27132,"./pa-in":30251,"./pa-in.js":30251,"./pl":93948,"./pl.js":93948,"./pt":89836,"./pt-br":36421,"./pt-br.js":36421,"./pt.js":89836,"./ro":28443,"./ro.js":28443,"./ru":20004,"./ru.js":20004,"./sd":54510,"./sd.js":54510,"./se":63148,"./se.js":63148,"./si":10542,"./si.js":10542,"./sk":77637,"./sk.js":77637,"./sl":85852,"./sl.js":85852,"./sq":90611,"./sq.js":90611,"./sr":10242,"./sr-cyrl":90302,"./sr-cyrl.js":90302,"./sr.js":10242,"./ss":91367,"./ss.js":91367,"./sv":42927,"./sv.js":42927,"./sw":5240,"./sw.js":5240,"./ta":82692,"./ta.js":82692,"./te":42132,"./te.js":42132,"./tet":88300,"./tet.js":88300,"./tg":37211,"./tg.js":37211,"./th":14050,"./th.js":14050,"./tk":53849,"./tk.js":53849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":23650,"./tlh.js":23650,"./tr":44195,"./tr.js":44195,"./tzl":55529,"./tzl.js":55529,"./tzm":17520,"./tzm-latn":60298,"./tzm-latn.js":60298,"./tzm.js":17520,"./ug-cn":84134,"./ug-cn.js":84134,"./uk":95456,"./uk.js":95456,"./ur":15679,"./ur.js":15679,"./uz":89277,"./uz-latn":66446,"./uz-latn.js":66446,"./uz.js":89277,"./vi":53992,"./vi.js":53992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":12899,"./yo.js":12899,"./zh-cn":94017,"./zh-cn.js":94017,"./zh-hk":84831,"./zh-hk.js":84831,"./zh-mo":32881,"./zh-mo.js":32881,"./zh-tw":30057,"./zh-tw.js":30057};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=46700},81670:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76133),a=n(92751),s=n(40103),o=n(41669),i=n(70198),c=(n(41539),n(54747),n(38862),n(34553),n(40561),n(78783),n(4129),n(33948),n(67714)),u=n(46926),l=new WeakMap,d=function(){function e(){(0,r.Z)(this,e),(0,s.Z)(this,l,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,i.Z)(this,l,t)}return(0,a.Z)(e,[{key:"findAccounts",value:function(e){var t=(0,u.IO)((0,u.hJ)(c.db,"accounts"),(0,u.ar)("user","==",e));return(0,u.PL)(t)}},{key:"addAccount",value:function(e){return(0,u.ET)((0,u.hJ)(c.db,"accounts"),e)}},{key:"updateAccount",value:function(e,t){var n=(0,u.JU)(c.db,"accounts",t);return(0,u.r7)(n,e)}},{key:"deleteAccount",value:function(e){var t=(0,u.JU)(c.db,"accounts",e);return(0,u.oe)(t)}},{key:"saveAccountsToLocal",value:function(e){var t=[];e.forEach((function(e){t.push({data:e.data(),id:e.id})})),localStorage.setItem("accounts"+(0,o.Z)(this,l),JSON.stringify(t))}},{key:"addAccountToLocal",value:function(e,t){var n=JSON.parse(localStorage.getItem("accounts"+(0,o.Z)(this,l)));n.push({data:e,id:t}),localStorage.setItem("accounts"+(0,o.Z)(this,l),JSON.stringify(n))}},{key:"updateAccountToLocal",value:function(e,t){var n=JSON.parse(localStorage.getItem("accounts"+(0,o.Z)(this,l))),r=[];n.forEach((function(n){n.id===t?r.push({data:e,id:n.id}):r.push({data:n.data,id:n.id})})),localStorage.setItem("accounts"+(0,o.Z)(this,l),JSON.stringify(r))}},{key:"deleteAccountToLocal",value:function(e){var t=JSON.parse(localStorage.getItem("accounts"+(0,o.Z)(this,l))),n=t.findIndex((function(t){return t.id===e}));-1!==n&&t.splice(n,1),localStorage.setItem("accounts"+(0,o.Z)(this,l),JSON.stringify(t))}}]),e}()},9677:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(67906),a=n(16198),s=n(76133),o=n(92751),i=n(40103),c=n(41669),u=n(70198),l=(n(41539),n(54747),n(78783),n(4129),n(33948),n(23796)),d=(n(68309),n(29253),n(82481),n(2707),n(74916),n(23123),n(14511)),p=n(17133),h=n.n(p),f=function(){function e(t,n,r,a){(0,s.Z)(this,e),(0,l.Z)(this,"id",""),(0,l.Z)(this,"name",""),(0,l.Z)(this,"icon",""),(0,l.Z)(this,"color",""),(0,l.Z)(this,"user",""),(0,l.Z)(this,"expenses",[]),(0,l.Z)(this,"balance",0),(0,l.Z)(this,"total",0),this.name=t,this.icon=n,this.color=r,this.expenses=a}return(0,o.Z)(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){return this.id=e,this}},{key:"getName",value:function(){return this.name}},{key:"getIcon",value:function(){return this.icon}},{key:"getColor",value:function(){return this.color}},{key:"setUser",value:function(e){return this.user=e,this}},{key:"getTotal",value:function(e){var t=this,n=0,r=0,a=0,s=0,o=d.P.getFirstDay(e),i=d.P.getLastDay(e);return this.expenses.forEach((function(e){if("credit"===e.type){var c=t.totalExpense(e,o,i),u=c.paidTotal,l=c.totalAll;n+=l,a+=u}if("debit"===e.type){var d=t.totalExpense(e,o,i),p=d.paidTotal,h=d.totalAll;r+=h,s+=p}})),this.balance=parseInt(r-n),this.total=parseInt(s-a),{total:parseInt(s-a),balance:parseInt(r-n)}}},{key:"totalExpense",value:function(e,t,n){var r=0,a=0;if(e.fixed){var s=this.totalFixed(e,t,n),o=s.totalExpense,i=s.paidExpense;a+=o,r+=i}else if(e.repeat){var c=this.totalRepeat(e,t,n),u=c.totalExpense,l=c.paidExpense;a+=u,r+=l}else{var d=this.totalSimple(e,t,n),p=d.totalExpense,h=d.paidExpense;a+=p,r+=h}return{paidTotal:r,totalAll:a}}},{key:"totalFixed",value:function(e,t,n){var r=0,a=0;if(h()(e.date).isSameOrBefore(n)){var s=this.getEditValue(e,t);e.paid?h()(e.paid).isSameOrAfter(n)&&(e.payments.forEach((function(e){h()(e.date).isBetween(t,n,void 0,"[]")&&(a+=s>0?parseInt(s):parseInt(e.amount))})),r+=s>0?parseInt(s):parseInt(e.amount)):(e.payments.forEach((function(e){h()(e.date).isBetween(t,n,void 0,"[]")&&(a+=s>0?parseInt(s):parseInt(e.amount))})),r+=s>0?parseInt(s):parseInt(e.amount))}return{totalExpense:r,paidExpense:a}}},{key:"totalRepeat",value:function(e,t,n){var r=0,a=0;if(h()(e.date).isSameOrBefore(n)){var s=this.getEditValue(e,t);e.payments.forEach((function(e){h()(e.date).isBetween(t,n,void 0,"[]")&&(e.paid&&(a+=s>0?parseInt(s):parseInt(e.amount)),r+=s>0?parseInt(s):parseInt(e.amount))}))}return{totalExpense:r,paidExpense:a}}},{key:"totalSimple",value:function(e,t,n){var r=0,a=0;return h()(e.date).isBetween(t,n,void 0,"[]")&&(r+=parseInt(e.amount),e.paid&&(a+=parseInt(e.amount))),{totalExpense:r,paidExpense:a}}},{key:"getEditValue",value:function(e,t){var n=0;return e.editList.length>0&&e.editList.forEach((function(e){h()(d.P.getFirstDay(e.date)).isSameOrBefore(t)&&(n=e.amount)})),n}},{key:"getBalance",value:function(){return this.balance}},{key:"getTotalValue",value:function(){return this.total}},{key:"getExpenses",value:function(e){var t=[],n=d.P.getFirstDay(e),r=d.P.getLastDay(e);return this.expenses.forEach((function(e){if(e.fixed)h()(e.date).isSameOrBefore(r)&&(e.paid?h()(e.paid).isSameOrAfter(r)&&t.push(e):t.push(e));else if(e.repeat){var a=d.P.sumMonths(e.date,parseInt(e.repeatTimes));h()(a).isSameOrAfter(n)&&h()(e.date).isSameOrBefore(r)&&t.push(e)}else h()(e.date).isBetween(n,r,void 0,"[]")&&t.push(e)})),t.sort((function(e,t){var n=e.date.split("-"),r=t.date.split("-");return n[2]-r[2]||t.type.localeCompare(e.type)})),t}},{key:"setExpenses",value:function(e){return this.expenses=e,this}},{key:"getObjectData",value:function(e){var t={name:this.name,icon:this.icon,color:this.color,user:this.user,expenses:this.expenses};return e&&(t.id=this.id),t}}],[{key:"fromJSONResponse",value:function(t,n){var r=new e(t.name,t.icon,t.color,t.expenses);return n&&r.setId(n).setUser(t.user),r}}]),e}(),v=n(81670),g=n(89767),m=new WeakMap,Z=new WeakMap,b=new WeakMap,y=function(){function e(){(0,s.Z)(this,e),(0,i.Z)(this,m,{writable:!0,value:void 0}),(0,i.Z)(this,Z,{writable:!0,value:void 0}),(0,i.Z)(this,b,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,u.Z)(this,m,new v.Z(t)),(0,u.Z)(this,Z,new g.Z(t)),(0,u.Z)(this,b,t)}return(0,o.Z)(e,[{key:"getAccounts",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=[],n=localStorage.getItem("accounts"+(0,c.Z)(this,b)),a=[],e.prev=3,n&&0!==JSON.parse(n).length){e.next=18;break}return e.next=7,(0,c.Z)(this,m).findAccounts((0,c.Z)(this,b));case 7:if(a=e.sent,0!==a.size){e.next=14;break}return e.next=11,this.saveAccount("Presupuesto","bank","green","",[]);case 11:return e.next=13,(0,c.Z)(this,m).findAccounts((0,c.Z)(this,b));case 13:a=e.sent;case 14:a.forEach((function(e){t.push(f.fromJSONResponse(e.data(),e.id))})),(0,c.Z)(this,m).saveAccountsToLocal(a),e.next=20;break;case 18:a=JSON.parse(n),a.forEach((function(e){t.push(f.fromJSONResponse(e.data,e.id))}));case 20:return e.abrupt("return",t);case 23:return e.prev=23,e.t0=e["catch"](3),console.error(e.t0),e.abrupt("return",[]);case 27:case"end":return e.stop()}}),e,this,[[3,23]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateAccountsToLocal",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)(this,m).findAccounts((0,c.Z)(this,b));case 3:t=e.sent,(0,c.Z)(this,m).saveAccountsToLocal(t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveAccount",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,s,o){var i,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=new f(t,n,a,o).setUser((0,c.Z)(this,b)),e.prev=1,!s){e.next=8;break}return e.next=5,(0,c.Z)(this,m).updateAccount(i.getObjectData(),s);case 5:(0,c.Z)(this,m).updateAccountToLocal(i.getObjectData(),s),e.next=12;break;case 8:return e.next=10,(0,c.Z)(this,m).addAccount(i.getObjectData());case 10:u=e.sent,(0,c.Z)(this,m).addAccountToLocal(i.getObjectData(),u.id);case 12:return(0,c.Z)(this,Z).updateVersion(),e.abrupt("return","Presupuesto guardado correctamente");case 16:return e.prev=16,e.t0=e["catch"](1),console.error(e.t0),e.abrupt("return","Error: Guardando presupuesto");case 20:case"end":return e.stop()}}),e,this,[[1,16]])})));function t(t,n,r,a,s){return e.apply(this,arguments)}return t}()},{key:"deleteAccount",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)(this,m).deleteAccount(t);case 3:return(0,c.Z)(this,m).deleteAccountToLocal(t),(0,c.Z)(this,Z).updateVersion(),e.abrupt("return","Presupuesto eliminado correctamente");case 8:return e.prev=8,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return","Error: Eliminando Presupuesto");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},27746:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(67906),a=n(16198),s=n(76133),o=n(92751),i=n(40103),c=n(41669),u=n(70198),l=(n(41539),n(54747),n(78783),n(4129),n(33948),n(23796)),d=function(){function e(t,n,r,a){(0,s.Z)(this,e),(0,l.Z)(this,"id",""),(0,l.Z)(this,"detail",""),(0,l.Z)(this,"icon",""),(0,l.Z)(this,"iconColor",""),(0,l.Z)(this,"backgroundColor",""),(0,l.Z)(this,"user",""),this.detail=t,this.icon=n,this.iconColor=r,this.backgroundColor=a}return(0,o.Z)(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){return this.id=e,this}},{key:"getDetail",value:function(){return this.detail}},{key:"getIcon",value:function(){return this.icon}},{key:"getIconColor",value:function(){return this.iconColor}},{key:"getBackgroundColor",value:function(){return this.backgroundColor}},{key:"setUser",value:function(e){return this.user=e,this}},{key:"getObjectData",value:function(e){var t={detail:this.detail,backgroundColor:this.backgroundColor,icon:this.icon,iconColor:this.iconColor,user:this.user};return e&&(t.id=this.id),t}}],[{key:"fromJSONResponse",value:function(t,n){var r=new e(t.detail,t.icon,t.iconColor,t.backgroundColor);return n&&r.setId(n).setUser(t.user),r}}]),e}(),p=(n(38862),n(34553),n(40561),n(67714)),h=n(46926),f=new WeakMap,v=function(){function e(){(0,s.Z)(this,e),(0,i.Z)(this,f,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,u.Z)(this,f,t)}return(0,o.Z)(e,[{key:"findCategories",value:function(e){var t=(0,h.IO)((0,h.hJ)(p.db,"categories"),(0,h.ar)("user","==",e));return(0,h.PL)(t)}},{key:"addCategory",value:function(e){return(0,h.ET)((0,h.hJ)(p.db,"categories"),e)}},{key:"updateCategory",value:function(e,t){var n=(0,h.JU)(p.db,"categories",t);return(0,h.r7)(n,e)}},{key:"deleteCategory",value:function(e){var t=(0,h.JU)(p.db,"categories",e);return(0,h.oe)(t)}},{key:"saveCategoriesToLocal",value:function(e){var t=[];e.forEach((function(e){t.push({data:e.data(),id:e.id})})),localStorage.setItem("categories"+(0,c.Z)(this,f),JSON.stringify(t))}},{key:"addCategoryToLocal",value:function(e,t){var n=JSON.parse(localStorage.getItem("categories"+(0,c.Z)(this,f)));n.push({data:e,id:t}),localStorage.setItem("categories"+(0,c.Z)(this,f),JSON.stringify(n))}},{key:"updateCategoryToLocal",value:function(e,t){var n=JSON.parse(localStorage.getItem("categories"+(0,c.Z)(this,f))),r=[];n.forEach((function(n){n.id===t?r.push({data:e,id:n.id}):r.push({data:n.data,id:n.id})})),localStorage.setItem("categories"+(0,c.Z)(this,f),JSON.stringify(r))}},{key:"deleteCategoryToLocal",value:function(e){var t=JSON.parse(localStorage.getItem("categories"+(0,c.Z)(this,f))),n=t.findIndex((function(t){return t.id===e}));-1!==n&&t.splice(n,1),localStorage.setItem("categories"+(0,c.Z)(this,f),JSON.stringify(t))}}]),e}(),g=n(89767),m=new WeakMap,Z=new WeakMap,b=new WeakMap,y=function(){function e(){(0,s.Z)(this,e),(0,i.Z)(this,m,{writable:!0,value:void 0}),(0,i.Z)(this,Z,{writable:!0,value:void 0}),(0,i.Z)(this,b,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,u.Z)(this,m,new v(t)),(0,u.Z)(this,Z,new g.Z(t)),(0,u.Z)(this,b,t)}return(0,o.Z)(e,[{key:"getCategories",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=[],n=localStorage.getItem("categories"+(0,c.Z)(this,b)),a=[],e.prev=3,n){e.next=12;break}return e.next=7,(0,c.Z)(this,m).findCategories((0,c.Z)(this,b));case 7:a=e.sent,a.forEach((function(e){t.push(d.fromJSONResponse(e.data(),e.id))})),(0,c.Z)(this,m).saveCategoriesToLocal(a),e.next=14;break;case 12:a=JSON.parse(n),a.forEach((function(e){t.push(d.fromJSONResponse(e.data,e.id))}));case 14:return e.abrupt("return",t);case 17:return e.prev=17,e.t0=e["catch"](3),console.error(e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,this,[[3,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCategoriesToLocal",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)(this,m).findCategories((0,c.Z)(this,b));case 3:t=e.sent,(0,c.Z)(this,m).saveCategoriesToLocal(t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveCategory",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,s,o){var i,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=new d(t,n,a,s).setUser((0,c.Z)(this,b)),e.prev=1,!o){e.next=6;break}(0,c.Z)(this,m).updateCategoryToLocal(i.getObjectData(),o),e.next=10;break;case 6:return e.next=8,(0,c.Z)(this,m).addCategory(i.getObjectData());case 8:u=e.sent,(0,c.Z)(this,m).addCategoryToLocal(i.getObjectData(),u.id);case 10:return(0,c.Z)(this,Z).updateVersion(),e.abrupt("return","Categoría guardada correctamente");case 14:return e.prev=14,e.t0=e["catch"](1),console.error(e.t0),e.abrupt("return","Error: Guardando categoría");case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t,n,r,a,s){return e.apply(this,arguments)}return t}()},{key:"deleteCategory",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)(this,m).deleteCategory(t);case 3:return(0,c.Z)(this,m).deleteCategoryToLocal(t),(0,c.Z)(this,Z).updateVersion(),e.abrupt("return","Categoría eliminada correctamente");case 8:return e.prev=8,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return","Error: Eliminando categoría");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},67714:function(e,t,n){"use strict";n.d(t,{I:function(){return l},db:function(){return u}});var r=n(29017),a=n(46926),s=n(96196),o={apiKey:"AIzaSyAguOG0Dcj1Jing0gqw64FuD7r6flq7hDc",authDomain:"gestor-gastos-6029b.firebaseapp.com",projectId:"gestor-gastos-6029b",storageBucket:"gestor-gastos-6029b.appspot.com",messagingSenderId:"1025908341871",appId:"1:1025908341871:web:79a04021263ba1fe10619a"},i=(0,r.ZF)(o),c={db:(0,a.ad)(i),auth:(0,s.v0)(i)},u=c.db,l=c.auth},92942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(76133),a=n(92751),s=(n(38862),n(96196)),o=n(67714),i=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"login",value:function(){var e=new s.hJ;return(0,s.rh)(o.I,e)}},{key:"logout",value:function(){return(0,s.w7)(o.I)}},{key:"loginLocal",value:function(e){localStorage.setItem("currentUser",JSON.stringify(e))}},{key:"logoutLocal",value:function(){localStorage.getItem("currentUser")&&localStorage.removeItem("currentUser")}}]),e}()},13588:function(e,t,n){"use strict";n(66992),n(88674),n(19601),n(17727);var r,a,s,o,i,c=n(28935),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.showNavbar?n("navbar-menu"):e._e(),n("router-view")],1)},l=[],d=n(67906),p=n(16198),h=n(4367),f=(n(68309),n(76133)),v=n(92751),g=n(23796),m=n(40103),Z=n(41669),b=n(70198),y=(n(41539),n(78783),n(4129),n(33948),new WeakMap),k=function(){function e(t,n){(0,f.Z)(this,e),(0,m.Z)(this,y,{writable:!0,value:""}),(0,g.Z)(this,"email",""),(0,b.Z)(this,y,t),this.email=n}return(0,v.Z)(e,[{key:"getId",value:function(){return(0,Z.Z)(this,y)}},{key:"getEmail",value:function(){return this.email}}],[{key:"fromJSONResponse",value:function(t){return new e(t.uid,t.email)}}]),e}(),w=n(34665),x=n(96196),S=n(67714),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"o-menu"},[n("div",{staticClass:"menu-item"},[n("router-link",{class:e.addClass("/statistics"),attrs:{to:"/statistics"}},[n("div",[n("b-icon",{attrs:{icon:"pie-chart-fill"}})],1),n("p",[e._v("Estadísticas")])])],1),n("div",{staticClass:"menu-item"},[n("router-link",{class:e.addClass("/"),attrs:{to:"/"}},[n("div",[n("b-icon",{attrs:{icon:"bank"}})],1),n("p",[e._v("Presupuesto")])])],1),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeContainer,expression:"closeContainer"}],staticClass:"menu-item-main"},[n("button",{staticClass:"button",on:{click:function(t){return e.changeShow()}}},[n("b-icon",{attrs:{icon:"plus"}})],1),n("div",{staticClass:"menu-item-main__container animate__animated",class:e.classMenuContainer},[n("div",{staticClass:"action action--light"},[n("button",{staticClass:"button-action",on:{click:function(t){return e.addExpense("credit")}}},[n("b-icon",{staticClass:"text-danger",attrs:{icon:"graph-down"}})],1),n("p",{staticClass:"action__label"},[e._v("Gasto")])]),n("div",{staticClass:"action action--light"},[n("button",{staticClass:"button-action",on:{click:function(t){return e.addExpense("debit")}}},[n("b-icon",{staticClass:"text-success",attrs:{icon:"graph-up"}})],1),n("p",{staticClass:"action__label"},[e._v("Ingreso")])])])]),n("div",{staticClass:"menu-item"},[n("router-link",{class:e.addClass("/products"),attrs:{to:"/products"}},[n("div",[n("b-icon",{attrs:{icon:"piggy-bank"}})],1),n("p",[e._v("Cuentas")])])],1),n("div",{staticClass:"menu-item"},[n("router-link",{class:e.addClass("/categories"),attrs:{to:"/categories"}},[n("div",[n("b-icon",{attrs:{icon:"list-ul"}})],1),n("p",[e._v("Categorías")])])],1)])},I=[],O=n(92942),E=new O.Z,C={name:"NavbarMenu",data:function(){return{show:!1}},watch:{show:function(){this.show?document.body.classList.add("dark-back"):document.body.classList.remove("dark-back")}},computed:{classMenuContainer:function(){return this.show?"animate__backInUp":"animate__backOutDown"}},methods:(0,h.Z)({addClass:function(e){var t="";return t=this.$route.path?this.$route.path:window.location.pathname,t===e?"selected":""},logout:function(){try{E.logout(),E.logoutLocal()}catch(e){console.error(e)}},changeShow:function(){this.show=!this.show,"accounts"!==this.$route.name&&this.$router.push("/accounts")},closeContainer:function(){this.show=!1},addExpense:function(e){this.show=!1,this.setType(e),this.$router.push("/add-expense")}},(0,w.OI)("expensesStore",["setType"]))},P=C,D=n(1001),L=(0,D.Z)(P,j,I,!1,null,null,null),N=L.exports,T=n(27746),A=n(9677),J=n(63852),M=n(14536),U=n(14511),Y=new WeakMap,_=new WeakMap,z=new WeakMap,W=new WeakMap,B=new WeakMap,F=function(){function e(){(0,f.Z)(this,e),(0,m.Z)(this,Y,{writable:!0,value:void 0}),(0,m.Z)(this,_,{writable:!0,value:void 0}),(0,m.Z)(this,z,{writable:!0,value:void 0}),(0,m.Z)(this,W,{writable:!0,value:void 0}),(0,m.Z)(this,B,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,b.Z)(this,W,t),(0,b.Z)(this,Y,new A.Z(t)),(0,b.Z)(this,_,new T.Z(t)),(0,b.Z)(this,z,new M.Z(t)),(0,b.Z)(this,B,new J.Z(t))}return(0,v.Z)(e,[{key:"validateDBVersion",value:function(){var e=(0,p.Z)((0,d.Z)().mark((function e(){var t,n,r,a;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Z.Z)(this,z).getSettings((0,Z.Z)(this,W));case 3:if(t=e.sent,n=localStorage.getItem("settings"+(0,Z.Z)(this,W)),t.exists()){e.next=11;break}return e.next=8,(0,Z.Z)(this,z).addSettings(1,"",(0,Z.Z)(this,W));case 8:(0,Z.Z)(this,z).addSettingsLocal(1,"",(0,Z.Z)(this,W)),e.next=14;break;case 11:r=parseInt(t.data().version),a=n?parseInt(JSON.parse(n).version):0,n?a!==r&&this.updateLocalStorage(t.data()):this.updateLocalStorage(t.data());case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateLocalStorage",value:function(){var e=(0,p.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return U.P.startLoading(),e.prev=1,e.next=4,(0,Z.Z)(this,_).updateCategoriesToLocal();case 4:return e.next=6,(0,Z.Z)(this,Y).updateAccountsToLocal();case 6:return e.next=8,(0,Z.Z)(this,B).updateProductToLocal();case 8:(0,Z.Z)(this,z).addSettingsLocal(t.version,t.principalAccount),U.P.stopLoading(),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),console.error(e.t0),U.P.stopLoading();case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),V=n(81803),R={name:"App",components:{NavbarMenu:N},computed:(0,h.Z)((0,h.Z)({showNavbar:function(){return"login"!==this.$route.name}},(0,w.rn)("loginStore",["user"])),(0,w.rn)("accountsStore",["accounts"])),methods:(0,h.Z)((0,h.Z)((0,h.Z)((0,h.Z)({whenUserLogin:function(){var e=this;return(0,p.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,a.getCategories();case 3:return t.t1=t.sent,t.t0.setCategories.call(t.t0,t.t1),t.t2=e,t.next=8,s.getAccounts();case 8:return t.t3=t.sent,t.t2.setAccounts.call(t.t2,t.t3),t.t4=e,t.next=13,i.getProducts();case 13:return t.t5=t.sent,t.t4.setProducts.call(t.t4,t.t5),t.prev=15,t.next=18,o.validateDBVersion();case 18:return t.t6=e,t.next=21,a.getCategories();case 21:return t.t7=t.sent,t.t6.setCategories.call(t.t6,t.t7),t.t8=e,t.next=26,s.getAccounts();case 26:return t.t9=t.sent,t.t8.setAccounts.call(t.t8,t.t9),e.setAccountSelected(e.accounts[0]),t.t10=e,t.next=32,i.getProducts();case 32:t.t11=t.sent,t.t10.setProducts.call(t.t10,t.t11),t.next=39;break;case 36:t.prev=36,t.t12=t["catch"](15),console.error(t.t12);case 39:case"end":return t.stop()}}),t,null,[[15,36]])})))()},loginUserSuccess:function(e){var t=this;return(0,p.Z)((0,d.Z)().mark((function n(){return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.setUser(k.fromJSONResponse(e)),r=new O.Z,r.loginLocal(e),a=new T.Z,s=new A.Z,o=new F,i=new V.Z,"login"===t.$route.name&&t.$router.push("/"),n.next=10,t.whenUserLogin();case 10:case"end":return n.stop()}}),n)})))()},logoutUser:function(){this.setUser(null),r=new O.Z,r.logoutLocal(),"login"!==this.$route.name&&this.$router.push("/login")}},(0,w.OI)("loginStore",["setUser"])),(0,w.OI)("categoriesStore",["setCategories"])),(0,w.OI)("accountsStore",["setAccounts","setAccountSelected"])),(0,w.OI)("productsStore",["setProducts"])),created:function(){var e=this;localStorage.getItem("currentUser")?this.loginUserSuccess(JSON.parse(localStorage.getItem("currentUser"))):(0,x.Aj)(S.I,(function(t){localStorage.getItem("currentUser")||(t?e.loginUserSuccess(t):e.logoutUser())}))}},$=R,q=(0,D.Z)($,u,l,!1,null,null,null),G=q.exports,Q=n(60563);(0,Q.z)("".concat("/REPO_NAME/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var K=n(12809);c["default"].use(K.Z);var X=[{path:"/",name:"accounts",component:function(){return Promise.all([n.e(814),n.e(734),n.e(562)]).then(n.bind(n,93633))}},{path:"/login",name:"login",component:function(){return n.e(535).then(n.bind(n,53421))}},{path:"/categories",name:"categories",component:function(){return n.e(267).then(n.bind(n,24951))}},{path:"/save-category",name:"save-category",component:function(){return Promise.all([n.e(681),n.e(804)]).then(n.bind(n,8730))}},{path:"/accounts",name:"accounts",component:function(){return Promise.all([n.e(814),n.e(734),n.e(562)]).then(n.bind(n,93633))}},{path:"/save-account",name:"save-account",component:function(){return Promise.all([n.e(681),n.e(454)]).then(n.bind(n,8701))}},{path:"/add-expense",name:"add-expense",component:function(){return Promise.all([n.e(814),n.e(788)]).then(n.bind(n,81550))}},{path:"/details-account",name:"details-account",component:function(){return Promise.all([n.e(814),n.e(788),n.e(734),n.e(133)]).then(n.bind(n,29686))}},{path:"/products",name:"products",component:function(){return n.e(893).then(n.bind(n,91906))}},{path:"/save-product",name:"save-product",component:function(){return Promise.all([n.e(681),n.e(408)]).then(n.bind(n,92348))}},{path:"/details-product",name:"details-product",component:function(){return n.e(179).then(n.bind(n,52434))}},{path:"/statistics",name:"statistics",component:function(){return n.e(193).then(n.bind(n,48391))}}],H=new K.Z({mode:"history",base:"/",routes:X});H.beforeEach((function(e,t,n){var r=localStorage.getItem("currentUser");"login"!==e.name?r?n():n("/login"):r?n("/"):n()}));var ee=H,te=n(39554),ne=n(38262),re=n(13266),ae=n(15831),se=n.n(ae),oe={bind:function(e,t,n){e.clickOutsideEvent=function(r){e===r.target||e.contains(r.target)||n.context[t.expression](r)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}},ie={install:function(e){e.directive("click-outside",oe)}};n(57327);function ce(e){return U.P.formatDateDayWeek(e)}function ue(e){return U.P.formatDateMonthYear(e)}function le(e){return U.P.formatNumber(e)}function de(e){return U.P.formatAllDate(e)}var pe={install:function(e){e.filter("formatDateDayWeek",ce),e.filter("formatAllDate",de),e.filter("formatNumber",le),e.filter("formatDateMonthYear",ue)}};n(70044);c["default"].use(ne.XG7),c["default"].use(re.A7),c["default"].use(se()),c["default"].use(pe),c["default"].use(ie),c["default"].config.productionTip=!1,new c["default"]({router:ee,store:te.Z,render:function(e){return e(G)}}).$mount("#app")},63852:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76133),a=n(92751),s=n(40103),o=n(41669),i=n(70198),c=(n(41539),n(54747),n(38862),n(34553),n(40561),n(78783),n(4129),n(33948),n(67714)),u=n(46926),l=new WeakMap,d=function(){function e(t){(0,r.Z)(this,e),(0,s.Z)(this,l,{writable:!0,value:void 0}),(0,i.Z)(this,l,t)}return(0,a.Z)(e,[{key:"findProducts",value:function(e){var t=(0,u.IO)((0,u.hJ)(c.db,"products"),(0,u.ar)("user","==",e));return(0,u.PL)(t)}},{key:"addProduct",value:function(e){return(0,u.ET)((0,u.hJ)(c.db,"products"),e)}},{key:"updateProduct",value:function(e,t){var n=(0,u.JU)(c.db,"products",t);return(0,u.r7)(n,e)}},{key:"deleteProduct",value:function(e){var t=(0,u.JU)(c.db,"products",e);return(0,u.oe)(t)}},{key:"saveProductsToLocal",value:function(e){var t=[];e.forEach((function(e){t.push({data:e.data(),id:e.id})})),localStorage.setItem("products"+(0,o.Z)(this,l),JSON.stringify(t))}},{key:"addProductToLocal",value:function(e,t){var n=JSON.parse(localStorage.getItem("products"+(0,o.Z)(this,l)));n.push({data:e,id:t}),localStorage.setItem("products"+(0,o.Z)(this,l),JSON.stringify(n))}},{key:"updateProductToLocal",value:function(e,t){var n=JSON.parse(localStorage.getItem("products"+(0,o.Z)(this,l))),r=[];n.forEach((function(n){n.id===t?r.push({data:e,id:n.id}):r.push({data:n.data,id:n.id})})),localStorage.setItem("products"+(0,o.Z)(this,l),JSON.stringify(r))}},{key:"deleteProductToLocal",value:function(e){var t=JSON.parse(localStorage.getItem("products"+(0,o.Z)(this,l))),n=t.findIndex((function(t){return t.id===e}));-1!==n&&t.splice(n,1),localStorage.setItem("products"+(0,o.Z)(this,l),JSON.stringify(t))}}]),e}()},81803:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(67906),a=n(16198),s=n(76133),o=n(92751),i=n(40103),c=n(41669),u=n(70198),l=(n(41539),n(54747),n(74916),n(15306),n(68757),n(82526),n(41817),n(34553),n(40561),n(78783),n(4129),n(33948),n(23796)),d=(n(68309),function(){function e(t,n,r,a,o,i){(0,s.Z)(this,e),(0,l.Z)(this,"id",""),(0,l.Z)(this,"name",""),(0,l.Z)(this,"icon",""),(0,l.Z)(this,"color",""),(0,l.Z)(this,"user",""),(0,l.Z)(this,"expenses",[]),(0,l.Z)(this,"totalExpense",0),(0,l.Z)(this,"totalIncome",0),this.name=t,this.icon=n,this.color=r,this.expenses=a,this.totalExpense=o,this.totalIncome=i}return(0,o.Z)(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){return this.id=e,this}},{key:"getName",value:function(){return this.name}},{key:"getIcon",value:function(){return this.icon}},{key:"getColor",value:function(){return this.color}},{key:"setUser",value:function(e){return this.user=e,this}},{key:"getBalance",value:function(){return parseInt(this.totalIncome)-parseInt(this.totalExpense)}},{key:"getTotalExpense",value:function(){return this.totalExpense}},{key:"getTotalIncome",value:function(){return this.totalIncome}},{key:"getExpenses",value:function(){return this.expenses}},{key:"setExpenses",value:function(e){return this.expenses=e,this}},{key:"setTotalExpense",value:function(e){return this.totalExpense=e,this}},{key:"setTotalIncome",value:function(e){return this.totalIncome=e,this}},{key:"getObjectData",value:function(e){var t={name:this.name,icon:this.icon,color:this.color,user:this.user,expenses:this.expenses,totalExpense:this.totalExpense,totalIncome:this.totalIncome};return e&&(t.id=this.id),t}}],[{key:"fromJSONResponse",value:function(t,n){var r=new e(t.name,t.icon,t.color,t.expenses,t.totalExpense,t.totalIncome);return n&&r.setId(n).setUser(t.user),r}}]),e}()),p=n(39554),h=n(89767),f=n(63852),v=new WeakMap,g=new WeakMap,m=new WeakMap,Z=function(){function e(){(0,s.Z)(this,e),(0,i.Z)(this,v,{writable:!0,value:void 0}),(0,i.Z)(this,g,{writable:!0,value:void 0}),(0,i.Z)(this,m,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,u.Z)(this,v,new f.Z(t)),(0,u.Z)(this,g,new h.Z(t)),(0,u.Z)(this,m,t)}return(0,o.Z)(e,[{key:"getProducts",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=[],n=localStorage.getItem("products"+(0,c.Z)(this,m)),a=[],e.prev=3,n){e.next=12;break}return e.next=7,(0,c.Z)(this,v).findProducts((0,c.Z)(this,m));case 7:a=e.sent,a.forEach((function(e){t.push(d.fromJSONResponse(e.data(),e.id))})),(0,c.Z)(this,v).saveProductsToLocal(a),e.next=14;break;case 12:a=JSON.parse(n),a.forEach((function(e){t.push(d.fromJSONResponse(e.data,e.id))}));case 14:return e.abrupt("return",t);case 17:return e.prev=17,e.t0=e["catch"](3),console.error(e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,this,[[3,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateProductsToLocal",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)(this,v).findProducts((0,c.Z)(this,m));case 3:t=e.sent,(0,c.Z)(this,v).saveProductsToLocal(t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveProduct",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,s,o,i,u){var l,p;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l=new d(t,n,a,o,i,u).setUser((0,c.Z)(this,m)),e.prev=1,!s){e.next=8;break}return e.next=5,(0,c.Z)(this,v).updateProduct(l.getObjectData(),s);case 5:(0,c.Z)(this,v).updateProductToLocal(l.getObjectData(),s),e.next=12;break;case 8:return e.next=10,(0,c.Z)(this,v).addProduct(l.getObjectData());case 10:p=e.sent,(0,c.Z)(this,v).addProductToLocal(l.getObjectData(),p.id);case 12:return(0,c.Z)(this,g).updateVersion(),e.abrupt("return","Cuenta guardada correctamente");case 16:return e.prev=16,e.t0=e["catch"](1),console.error(e.t0),e.abrupt("return","Error: Guardando cuenta");case 20:case"end":return e.stop()}}),e,this,[[1,16]])})));function t(t,n,r,a,s,o,i){return e.apply(this,arguments)}return t}()},{key:"deleteProduct",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)(this,v).deleteProduct(t);case 3:return(0,c.Z)(this,v).deleteProductToLocal(t),(0,c.Z)(this,g).updateVersion(),e.abrupt("return","Cuenta eliminada correctamente");case 8:return e.prev=8,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return","Error: Eliminando cuenta");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addExpense",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,s,o,i,u){var l,d,h,f,m;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l=t.replaceAll(".",""),i=i||p.Z.state.productsStore.productSelected,d=i.expenses,h=parseInt(i.totalExpense),f=parseInt(i.totalIncome),m={amount:l,description:n,category:"function"===typeof a.getObjectData?a.getObjectData(!0):a,date:s,user:p.Z.state.loginStore.user.email,type:o,id:Date.now()},u&&(m.idAccount=u),"credit"===o&&(h+=parseInt(l)),"debit"===o&&(f+=parseInt(l)),d.unshift(m),i.setExpenses(d).setTotalExpense(h).setTotalIncome(f),e.prev=11,e.next=14,(0,c.Z)(this,v).updateProduct(i.getObjectData(),i.getId());case 14:return(0,c.Z)(this,v).updateProductToLocal(i.getObjectData(),i.getId()),(0,c.Z)(this,g).updateVersion(),e.abrupt("return","Agregado correctamente");case 19:e.prev=19,e.t0=e["catch"](11),console.error(e.t0);case 22:case"end":return e.stop()}}),e,this,[[11,19]])})));function t(t,n,r,a,s,o,i){return e.apply(this,arguments)}return t}()},{key:"editExpense",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,s,o){var i,u,l,d,h;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=n.replaceAll(".",""),u=p.Z.state.productsStore.productSelected,l=u.expenses,d=parseInt(u.totalExpense),h=parseInt(u.totalIncome),"credit"===t.type&&(d-=parseInt(t.amount),d+=parseInt(i)),"debit"===t.type&&(h-=parseInt(t.amount),h+=parseInt(i)),l.forEach((function(e,n){e.id===t.id&&(t.description=a,t.category=s,t.date=o,t.amount=i,l[n]=t)})),u.setExpenses(l).setTotalExpense(d).setTotalIncome(h),e.prev=9,e.next=12,(0,c.Z)(this,v).updateProduct(u.getObjectData(),u.getId());case 12:(0,c.Z)(this,v).updateProductToLocal(u.getObjectData(),u.getId()),(0,c.Z)(this,g).updateVersion(),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](9),console.error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[9,16]])})));function t(t,n,r,a,s){return e.apply(this,arguments)}return t}()},{key:"deleteExpense",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s,o,i,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=n||p.Z.state.productsStore.productSelected,a=n.expenses,s=t.type,o=parseInt(n.totalExpense),i=parseInt(n.totalIncome),u=a.findIndex((function(e){return e.id===t.id})),a.splice(u,1),"credit"===s&&(o-=parseInt(t.amount)),"debit"===s&&(i-=parseInt(t.amount)),n.setExpenses(a).setTotalExpense(o).setTotalIncome(i),e.prev=10,e.next=13,(0,c.Z)(this,v).updateProduct(n.getObjectData(),n.getId());case 13:return(0,c.Z)(this,v).updateProductToLocal(n.getObjectData(),n.getId()),(0,c.Z)(this,g).updateVersion(),e.abrupt("return",!0);case 18:e.prev=18,e.t0=e["catch"](10),console.error(e.t0);case 21:case"end":return e.stop()}}),e,this,[[10,18]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}()},1644:function(e,t,n){"use strict";n.d(t,{UZ:function(){return r},qG:function(){return i},zQ:function(){return s}});n(51532),n(41539),n(78783),n(33948);var r=["alarm","archive","arrow-clockwise","bank","basket","bell","box","bicycle","brightness-alt-high","briefcase","brightness-high","bucket","brush","calendar3","camera","camera-reels","cart","cash","cash-coin","chat-dots","clipboard","clock","cone-striped","controller","compass","credit-card","credit-card2-back","credit-card2-back-fill","credit-card2-front","currency-dollar","currency-bitcoin","currency-exchange","dash-circle","droplet","emoji-smile","emoji-wink","emoji-neutral","emoji-heart-eyes","emoji-expressionless","emoji-frown","envelope","exclamation-circle","eyeglasses","file-earmark-zip","file-earmark","gem","geo-fill","handbag","headset","heart","house","images","instagram","mailbox","lock-fill","minecart-loaded","moon-stars","music-note","palette","people","phone","piggy-bank","plug","printer","star","suit-heart","telephone","trash","umbrella","watch","percent","signpost","smartwatch"],a=new Map([[1,"Lunes"],[2,"Martes"],[3,"Miercoles"],[4,"Jueves"],[5,"Viernes"],[6,"Sábado"],[0,"Domingo"]]);function s(e){return a.get(e)}var o=new Map([[1,"Enero"],[2,"Febrero"],[3,"Marzo"],[4,"Abril"],[5,"Mayo"],[6,"Junio"],[7,"Julio"],[8,"Agosto"],[9,"Septiembre"],[10,"Octubre"],[11,"Noviembre"],[12,"Diciembre"]]);function i(e){return o.get(e)}},14536:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76133),a=n(92751),s=n(40103),o=n(41669),i=n(70198),c=(n(38862),n(41539),n(78783),n(4129),n(33948),n(46926)),u=n(67714),l=new WeakMap,d=function(){function e(){(0,r.Z)(this,e),(0,s.Z)(this,l,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,i.Z)(this,l,t)}return(0,a.Z)(e,[{key:"getSettings",value:function(e){var t=(0,c.JU)(u.db,"settings",e);return(0,c.QT)(t)}},{key:"addSettings",value:function(e,t,n){var r={version:e,principalAccount:t},a=(0,c.JU)(u.db,"settings",n);return(0,c.pl)(a,r)}},{key:"addSettingsLocal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2?arguments[2]:void 0,r={version:e,principalAccount:t,user:n};localStorage.setItem("settings"+(0,o.Z)(this,l),JSON.stringify(r))}}]),e}()},89767:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(67906),a=n(16198),s=n(76133),o=n(92751),i=n(40103),c=n(41669),u=n(70198),l=(n(41539),n(78783),n(4129),n(33948),n(14536)),d=new WeakMap,p=new WeakMap,h=function(){function e(){(0,s.Z)(this,e),(0,i.Z)(this,d,{writable:!0,value:void 0}),(0,i.Z)(this,p,{writable:!0,value:void 0});var t=JSON.parse(localStorage.getItem("currentUser"));t=t.email,(0,u.Z)(this,d,new l.Z),(0,u.Z)(this,p,t)}return(0,o.Z)(e,[{key:"updateVersion",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(localStorage.getItem("settings"+(0,c.Z)(this,p))),n=parseInt(t.version)+1,e.next=5,(0,c.Z)(this,d).addSettings(n,t.principalAccount,(0,c.Z)(this,p));case 5:(0,c.Z)(this,d).addSettingsLocal(n,t.principalAccoun,(0,c.Z)(this,p)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"createSettings",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)(this,d).addSettings(t,n,(0,c.Z)(this,p));case 3:return(0,c.Z)(this,d).addSettingsLocal(t,n,(0,c.Z)(this,p)),e.abrupt("return","Configuración guardada correctamente");case 7:return e.prev=7,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return","Error guardando configuración");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}()},14511:function(e,t,n){"use strict";n.d(t,{P:function(){return y}});n(74916),n(15306),n(41539),n(39714),n(92222);var r=n(17133),a=n.n(r),s=n(1644);function o(){document.body.classList.add("loading")}function i(){document.body.classList.remove("loading")}function c(e){var t=e?e.toString().replace(/[^\d]/g,""):"";return t?new Intl.NumberFormat("de-DE").format(parseInt(t)):""}function u(e,t){t||(t=0),a().locale("es-US");var n=a()(e),r=a()(n).add(parseInt(t),"M");return r.format("YYYY-MM-DD")}function l(e,t){t||(t=0),a().locale("es-US");var n=a()(e),r=a()(n).subtract(parseInt(t),"M");return r.format("YYYY-MM-DD")}function d(e){a().locale("es-US");var t=a()(e);return t.format("DD MMMM YYYY")}function p(){var e=new Date,t=e.toLocaleDateString("es-US",{day:"2-digit"}),n=e.toLocaleDateString("es-US",{month:"2-digit"}),r=e.toLocaleDateString("es-US",{year:"numeric"});return r+"-"+n+"-"+t}function h(e){return e?a()(e).endOf("month").format("YYYY-MM-DD").toString():a()().endOf("month").format("YYYY-MM-DD").toString()}function f(e){return e?a()(e).startOf("month").format("YYYY-MM-DD").toString():a()().startOf("month").format("YYYY-MM-DD").toString()}function v(e){a().locale("es-US");var t=a()(e),n=t.date(),r=(0,s.zQ)(t.day());return"".concat(r," ").concat(n)}function g(e){return new Intl.NumberFormat("de-DE").format(parseInt(e))}function m(e,t){a().locale("es-US");var n=a()(e),r=a()(t).format("M"),s=a()(t).format("yyyy");return n.set({month:r-1,year:s}),n.format("YYYY-MM-DD")}function Z(e){a().locale("es-US");var t=a()(e),n=t.date(),r=(0,s.qG)(t.month()+1),o=t.year();return"".concat(n," ").concat(r," ").concat(o)}function b(e){a().locale("es-US");var t=a()(e),n=(0,s.qG)(t.month()+1),r=t.year();return"".concat(n," ").concat(r)}var y={startLoading:o,stopLoading:i,onlyNumber:c,sumMonths:u,subtractMonths:l,formatDate:d,getCurrentDate:p,getLastDay:h,getFirstDay:f,formatDateDayWeek:v,formatDateMonthYear:b,formatNumber:g,getFixedExpenseDate:m,formatAllDate:Z}},39554:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(28935),a=n(34665),s={namespaced:!0,state:{user:null,settings:null},mutations:{setUser:function(e,t){e.user=t},setSettings:function(e,t){e.settings=t}}},o={namespaced:!0,state:{categories:null,categorySelected:null},mutations:{setCategories:function(e,t){e.categories=t},setCategorySelected:function(e,t){e.categorySelected=t}}},i={namespaced:!0,state:{accounts:[],accountSelected:null},mutations:{setAccounts:function(e,t){e.accounts=t},setAccountSelected:function(e,t){e.accountSelected=t}}},c=n(14511),u={namespaced:!0,state:{expenses:[],currentPeriod:c.P.getCurrentDate(),type:"credit",expenseSelected:null,indexPaymentSelected:-1,editExpense:1},mutations:{setExpenses:function(e,t){e.expenses=t},setCurrentPeriod:function(e,t){e.currentPeriod=t},setType:function(e,t){e.type=t},setExpenseSelected:function(e,t){e.expenseSelected=t},setIndexPaymentSelected:function(e,t){e.indexPaymentSelected=t},setEditExpense:function(e,t){e.editExpense=t}}},l={namespaced:!0,state:{products:[],productSelected:null,type:"credit",expenseProductSelected:null},mutations:{setProducts:function(e,t){e.products=t},setProductSelected:function(e,t){e.productSelected=t},setType:function(e,t){e.type=t},setExpenseProductSelected:function(e,t){e.expenseProductSelected=t}}};r["default"].use(a.ZP);var d=new a.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{loginStore:s,categoriesStore:o,accountsStore:i,expensesStore:u,productsStore:l}})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,s){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],s=e[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(i=!1,s<o&&(o=s));if(i){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+({133:"details-accoun",179:"details-product",193:"statistics",267:"categories",408:"save-product",454:"save-account",535:"login",562:"accounts",788:"add-expense",804:"save-category",893:"products"}[e]||e)+"-legacy."+{133:"c48427af",179:"84bd1810",193:"cc91f677",267:"08973a55",408:"f12c110c",454:"b06f374f",535:"d6422e46",562:"ec2cfbe9",681:"2927901e",734:"930d5a52",788:"1d780ad6",804:"7d24e3dd",814:"bb89928d",893:"8d196231"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="gestor-gastos:";n.l=function(r,a,s,o){if(e[r])e[r].push(a);else{var i,c;if(void 0!==s)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=r),e[r]=[a];var p=function(t,n){i.onerror=i.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/REPO_NAME/"}(),function(){var e={143:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=s);var o=n.p+n.u(t),i=new Error,c=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}};n.l(o,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,o=r[0],i=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var l=c(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},r=self["webpackChunkgestor_gastos"]=self["webpackChunkgestor_gastos"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(13588)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.adf66ac8.js.map