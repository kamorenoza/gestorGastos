"use strict";(self["webpackChunkgestor_gastos"]=self["webpackChunkgestor_gastos"]||[]).push([[454],{8701:function(t,e,n){n.r(e),n.d(e,{default:function(){return Z}});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"l-content"},[n("title-general",{attrs:{title:t.title,backRoute:"/accounts"}}),n("div",{staticClass:"l-list"},[n("input-general",{attrs:{label:"Nombre",validate:t.validate},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("icon-modal",{model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}}),n("icon-detail",{attrs:{icon:t.icon,iconColor:t.iconColor,validate:t.validate}}),t.icon?n("color-modal",{attrs:{idModal:"color-modal"},model:{value:t.iconColor,callback:function(e){t.iconColor=e},expression:"iconColor"}}):t._e(),n("div",[n("button",{staticClass:"btn button-color-general btn-block",on:{click:function(e){return t.save()}}},[t._v("Guardar")])])],1)],1)},c=[],i=n(67906),a=n(16198),s=n(4367),r=(n(73210),n(68309),n(9677)),l=n(1160),u=n(34665),d=n(25099),h=n(14511),v=n(73727),p=n(21654),f=n(84998),m=n(50761),C={name:"SaveAccount",components:{TitleGeneral:d.Z,InputGeneral:v.Z,IconModal:p.Z,ColorModal:f.Z,IconDetail:m.Z},data:function(){return{name:"",icon:"",iconColor:"",validate:!1,id:"",expenses:[],uc:new r.Z}},watch:{icon:function(){this.iconColor||(this.iconColor="#000000")}},computed:(0,s.Z)((0,s.Z)({validData:function(){return""!==this.icon.trim()&&""!==this.name.trim()},title:function(){return this.id?"Editar presupuesto":"Nuevo presupuesto"}},(0,u.rn)("accountsStore",["accountSelected"])),(0,u.rn)("expensesStore",["currentPeriod"])),methods:(0,s.Z)({clear:function(t){!t&&this.id||(this.name=this.iconColor=this.icon=this.id="",this.expenses=[]),this.validate=!1},save:function(){var t=this;return(0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validate=!0,!t.validData){e.next=17;break}return h.P.startLoading(),e.next=5,t.uc.saveAccount(t.name,t.icon,t.iconColor,t.id,t.expenses);case 5:return n=e.sent,e.t0=t,e.next=9,t.uc.getAccounts();case 9:return e.t1=e.sent,e.next=12,e.t0.setAccounts.call(e.t0,e.t1);case 12:return t.clear(),h.P.stopLoading(),e.next=16,(new l.Z).notify(n);case 16:t.$router.push("/");case 17:case"end":return e.stop()}}),e)})))()},loadData:function(){var t;null!==this.accountSelected&&(this.name=this.accountSelected.getName(),this.icon=null===(t=this.accountSelected)||void 0===t?void 0:t.getIcon(),this.iconColor=this.accountSelected.getColor(),this.id=this.accountSelected.getId(),this.expenses=this.accountSelected.getExpenses(this.currentPeriod))}},(0,u.OI)("accountsStore",["setAccounts"])),created:function(){this.loadData()},beforeDestroy:function(){this.clear(!0)}},x=C,b=n(1001),g=(0,b.Z)(x,o,c,!1,null,null,null),Z=g.exports}}]);
//# sourceMappingURL=save-account-legacy.b06f374f.js.map